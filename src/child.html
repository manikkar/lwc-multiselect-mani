<template>
	<div class="slds-form-element">
		<label class='slds-m-around_x-small'><small>{labelName}</small></label>
		<div class="slds-form-element__control">
			<div class="slds-combobox_container">
				<div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open" aria-expanded="true"
					aria-haspopup="listbox" role="combobox">
					<div class="slds-combobox slds-dropdown-trigger slds-dropdown-trigger_click slds-has-focus" role="none">
						<lightning-input id="input" onfocus={handleinput} value={searchInput} onchange={onchangeSearchInput}
							label="mani" variant="label-hidden" aria-autocomplete="list" role="textbox" autocomplete="off"
							placeholder="Search..." type="search">
						</lightning-input>
					</div>
					<div class="slds-form-element__control slds-input-has-icon slds-input-has-icon slds-input-has-icon_left-right"
						role="none">
						<template if:true={globalSelectedItems} for:each={globalSelectedItems} for:item="selectedItem">
							<span key={selectedItem.value}>
                                <lightning-pill label={selectedItem.label} name={selectedItem.value}
                                    data-value={selectedItem.value} onremove={handlePillRemoveRecord}>
                                    <lightning-icon icon-name={iconName} variant="circle"
                                        alternative-text={selectedItem.label}></lightning-icon>
                                </lightning-pill>
                            </span>
						</template>
					</div>
					<template if:true={isDisplayMessage}>
						<lightning-card>No records found.</lightning-card>
					</template>
					<template if:false={isDisplayMessage}>
						<template if:true={isDialogDisplay}>
							<section aria-describedby="dialog-body-id-26" aria-label="Language Options"
								class="slds-popover slds-popover_full-width" id="popover-unique-id-02" role="dialog">
								<div class="slds-popover__body slds-popover__body_small" id="dialog-body-id-26">
									<div class="slds-m-horizontal_xx-small slds-m-bottom_x-small">
										<div class="slds-border_bottom slds-p-around_xx-small">
											<lightning-input type="checkbox" label="Select All" data-checkall="checkall"
												onchange={handleselectAll}>
											</lightning-input>
										</div>
										<template if:true={runningOptions} for:each={runningOptions} for:item="option">
											<div key={option.value} class="slds-grid slds-p-around_xx-small">
												<div class="slds-col" style="width:50%">
													<span>
                                                        <lightning-input type="checkbox" checked={option.ischecked}
                                                            data-all-options="toggle" data-label={option.label}
                                                            data-value={option.value} label={option.label}
                                                            onchange={handleOptionselection}>
                                                        </lightning-input>
                                                    </span>
												</div>
												<div class="slds-col">
													<span style="float:right">
                                                        <lightning-badge label={option.status} icon-name={option.icon}
                                                            class={option.variant}>
                                                        </lightning-badge>
                                                    </span>
												</div>
											</div>
										</template>
										<template if:true={enableFreeText}>
											<div class="slds-border_top slds-p-around_xx-small">
												<lightning-input type="checkbox" label="Other" data-other="other" onchange={handleOtheroption}>
												</lightning-input>
												<template if:true={_showFreeText}>
													<lightning-layout>
														<lightning-layout-item size="10">
															<lightning-textarea name="input1" onchange={handleFreeText} variant="label-hidden">
															</lightning-textarea>
														</lightning-layout-item>
														<lightning-layout-item size="2">
															<lightning-button-icon icon-name="utility:add" variant="brand" alternative-text="add"
																class="slds-m-left_x-small" onclick={addNewValuetoList}>
															</lightning-button-icon>
														</lightning-layout-item>
													</lightning-layout>
												</template>
											</div>
										</template>
									</div>
								</div>
								<footer class="slds-popover__footer slds-popover__footer_form">
									<lightning-button label="Cancel" title="Cancel" onclick={handleCancelClick}
										class="slds-m-left_x-small"></lightning-button>
									<lightning-button variant="success" label="Done" title="Done" onclick={handleDoneClick}
										class="slds-m-left_x-small"></lightning-button>
								</footer>
							</section>
						</template>
					</template>
				</div>
			</div>
		</div>
	</div>
</template>